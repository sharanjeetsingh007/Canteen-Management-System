(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{629:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"k",(function(){return b}));var a=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},r=function(e,t){sessionStorage.setItem("token",e),sessionStorage.setItem("user",JSON.stringify(t))},c=function(e){var t=[];JSON.parse(sessionStorage.getItem("_products")||"[]").forEach((function(n,a){n.pid!==e?t.push(n):n.count>1&&(n.count--,n.total=n.price*n.count,t.push(n))})),sessionStorage.setItem("_products",JSON.stringify(t))},s=function(){var e=[];return JSON.parse(sessionStorage.getItem("_products")||"[]").forEach((function(t,n){e.push(t.name+" $"+t.price+" x "+t.count+" = $"+t.total)})),e},o=function(e,t,n,a){var r=JSON.parse(sessionStorage.getItem("_products")||"[]"),c=!1;if(r.forEach((function(t,n){t.pid===e&&(c=!0,t.count++,t.total=t.price*t.count)})),!c){var s={pid:e,name:t,price:n,imgurl:a,total:1*n,count:1};r.push(s)}sessionStorage.setItem("_products",JSON.stringify(r))},i=function(){return JSON.parse(sessionStorage.getItem("_products")||"[]")},u=function(){sessionStorage.setItem("_products",JSON.stringify([]))},d=function(){var e=JSON.parse(sessionStorage.getItem("_products")||"[]"),t=0;return e.forEach((function(e,n){t+=e.count})),t},l=function(){var e=JSON.parse(sessionStorage.getItem("_products")||"[]"),t=0;return e.forEach((function(e,n){t+=e.count*e.price})),t};function m(e,t,n){return new Promise((function(n,a){e().then(n).catch((function(r){setTimeout((function(){1!==t?m(e,t-1).then(n,a):a(r)}),5e3)}))}))}var b=function(e,t){var n="",a=!0;("name"!==e||t||(a=!1,n="Please enter your name."),"email"!==e||t||(a=!1,n="Please enter your email Address."),"email"===e&&"undefined"!==typeof t)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(t)||(a=!1,n="Please enter valid email address."));("phone"!==e||t||(a=!1,n="Please enter your phone number."),"phone"===e&&"undefined"!==typeof t)&&(new RegExp(/^\+[0-9\b]+$/).test(t)?t.length<10&&(a=!1,n="Please enter valid phone number."):(a=!1,n="Please enter only number."));return[a,n]}},630:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return m}));var a=n(642),r=n.n(a),c=n(43),s=n(643),o=n(644),i=(n(646),n(649),o.a.initializeApp({apiKey:"AIzaSyCtv0SrPL04mrat1QIvWI8Q4e7yGoWgt1s",authDomain:"ict342-user.firebaseapp.com",databaseURL:"https://ict342-user-default-rtdb.firebaseio.com",projectId:"ict342-user",storageBucket:"ict342-user.appspot.com",messagingSenderId:"71121181583",appId:"1:71121181583:web:475e97730cdd78962189fa"}),o.a.auth),u=o.a.auth(),d=o.a.firestore(),l=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,d.doc("users/".concat(t)).get();case 5:return n=e.sent,e.abrupt("return",Object(c.a)({uid:t},n.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=d.doc("users/".concat(t.uid)),e.next=5,c.get();case 5:if(e.sent.exists){e.next=18;break}return"","",s=t.email,e.prev=10,e.next=13,c.set({email:s,displayName:n,phoneNumber:a,rule:"",photoUrl:""});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.error("Error creating user document",e.t0);case 18:return e.abrupt("return",l(t.uid));case 19:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n,a){return e.apply(this,arguments)}}()},696:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(629),s=n(43),o=n(20),i=n(627),u=r.a.lazy((function(){return Promise.all([n.e(2),n.e(6),n.e(24)]).then(n.bind(null,697))})),d=r.a.lazy((function(){return n.e(21).then(n.bind(null,684))})),l=r.a.lazy((function(){return n.e(20).then(n.bind(null,685))})),m=r.a.lazy((function(){return Object(c.b)((function(){return n.e(15).then(n.bind(null,686))}),10)})),b=r.a.lazy((function(){return Object(c.b)((function(){return n.e(14).then(n.bind(null,687))}),10)})),p=r.a.lazy((function(){return Object(c.b)((function(){return Promise.all([n.e(2),n.e(7),n.e(9)]).then(n.bind(null,688))}),10)})),f=r.a.lazy((function(){return Object(c.b)((function(){return n.e(12).then(n.bind(null,689))}),10)})),j=r.a.lazy((function(){return Object(c.b)((function(){return n.e(17).then(n.bind(null,690))}),10)})),h=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:u},{path:"/admin/all-products",exact:!0,name:"All Products",component:m},{path:"/admin/add-product",exact:!0,name:"Add Product",component:b},{path:"/admin/orders",exact:!0,name:"All Orders",component:f},{path:"/user-orders",exact:!0,name:"User Orders",component:r.a.lazy((function(){return Object(c.b)((function(){return n.e(13).then(n.bind(null,691))}),10)}))},{path:"/admin/wallets",exact:!0,name:"All Wallets",component:j},{path:"/user-wallets",exact:!0,name:"User Orders",component:r.a.lazy((function(){return Object(c.b)((function(){return n.e(16).then(n.bind(null,692))}),10)}))},{path:"/user-about-us",exact:!0,name:"About Us",component:r.a.lazy((function(){return Object(c.b)((function(){return n.e(22).then(n.bind(null,693))}),10)}))},{path:"/user-contact-us",exact:!0,name:"Contact Us",component:r.a.lazy((function(){return Object(c.b)((function(){return n.e(23).then(n.bind(null,694))}),10)}))},{path:"/today-menu",exact:!0,name:"Today's Menu",component:p},{path:"/users",exact:!0,name:"Users",component:d},{path:"/users/:id",exact:!0,name:"User Details",component:l}],O=n(17),v=Object(O.jsx)("div",{className:"pt-3 text-center",children:Object(O.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),x=function(){return Object(O.jsx)("main",{className:"c-main",children:Object(O.jsx)(i.m,{fluid:!0,children:Object(O.jsx)(a.Suspense,{fallback:v,children:Object(O.jsxs)(o.d,{children:[h.map((function(e,t){return e.component&&Object(O.jsx)(o.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(O.jsx)(i.t,{children:Object(O.jsx)(e.component,Object(s.a)({},t))})}},t)})),Object(O.jsx)(o.a,{from:"/",to:"/dashboard"})]})})})})},g=r.a.memo(x),S=function(){return Object(O.jsxs)(i.u,{fixed:!1,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:"My Home Page"}),Object(O.jsx)("span",{className:"ml-1",children:"\xa9 2020 creativeLabs."})]}),Object(O.jsxs)("div",{className:"mfs-auto",children:[Object(O.jsx)("span",{className:"mr-1",children:"Powered by"}),Object(O.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:" Me for React"})]})]})},N=r.a.memo(S),y=n(167),w=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.sidebarShow}));return Object(O.jsxs)(i.x,{withSubheader:!0,children:[Object(O.jsx)(i.Z,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var n=!![!1,"responsive"].includes(t)||"responsive";e({type:"set",sidebarShow:n})}}),Object(O.jsx)(i.Z,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var n=![!0,"responsive"].includes(t)&&"responsive";e({type:"set",sidebarShow:n})}}),Object(O.jsx)(i.y,{className:"d-md-down-none mr-auto",children:Object(O.jsx)("div",{className:"c-avatar",children:Object(O.jsx)(i.z,{src:"avatars/logo.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"})})}),Object(O.jsx)(i.y,{className:"d-md-down-none mr-auto",children:Object(O.jsx)("div",{className:"c-avatar",children:Object(O.jsx)("h4",{children:"Welcome"})})}),Object(O.jsx)(i.y,{className:"px-3",children:Object(O.jsx)(_,{})})]})},C=n(164),I=n(630),_=function(){var e=Object(a.useState)(!1),t=Object(C.a)(e,2),n=t[0],r=t[1];return!0===n?Object(O.jsx)(o.a,{to:"/login"}):Object(O.jsx)(i.p,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:Object(O.jsx)(i.d,{className:"c-header-nav-link",onClick:function(){I.a.signOut(),r(!0)},children:"Logout"})})},z=n(628),k=[{_tag:"CSidebarNavItem",name:"Dashboard",to:"/dashboard",icon:Object(O.jsx)(z.a,{name:"cil-speedometer",customClasses:"c-sidebar-nav-icon"}),badge:{color:"info",text:"NEW"}},{_tag:"CSidebarNavTitle",_children:["Admin"]},{_tag:"CSidebarNavItem",name:"All Products",to:"/admin/all-products",icon:"cil-puzzle"},{_tag:"CSidebarNavItem",name:"Add Product",to:"/admin/add-product",icon:"cil-pencil"},{_tag:"CSidebarNavItem",name:"Today's Menu",to:"/today-menu",icon:"cil-menu"},{_tag:"CSidebarNavItem",name:"Wallets",to:"/admin/wallets",icon:"cil-wallet"},{_tag:"CSidebarNavItem",name:"Orders",to:"/admin/orders",icon:"cil-cart"},{_tag:"CSidebarNavItem",name:"Users",to:"/users",icon:"cil-user"},{_tag:"CSidebarNavTitle",_children:["User"]},{_tag:"CSidebarNavItem",name:"Today's Menu",to:"/today-menu",icon:"cil-menu"},{_tag:"CSidebarNavItem",name:"My Orders",to:"/user-orders",icon:"cil-cart"},{_tag:"CSidebarNavItem",name:"My Wallets",to:"/user-wallets",icon:"cil-wallet"},{_tag:"CSidebarNavItem",name:"Contact Us",to:"/user-contact-us",icon:"cil-puzzle"},{_tag:"CSidebarNavItem",name:"About Us",to:"/user-about-us",icon:"cil-pencil"}],U=[{_tag:"CSidebarNavTitle",_children:["User"]},{_tag:"CSidebarNavItem",name:"Today's Menu",to:"/today-menu",icon:"cil-menu"},{_tag:"CSidebarNavItem",name:"My Orders",to:"/user-orders",icon:"cil-cart"},{_tag:"CSidebarNavItem",name:"My Wallets",to:"/user-wallets",icon:"cil-wallet"},{_tag:"CSidebarNavItem",name:"Contact Us",to:"/user-contact-us",icon:"cil-puzzle"},{_tag:"CSidebarNavItem",name:"About Us",to:"/user-about-us",icon:"cil-pencil"}],P=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.sidebarShow}));return"admin"===Object(c.g)().rule?Object(O.jsxs)(i.S,{show:t,onShowChange:function(t){return e({type:"set",sidebarShow:t})},children:[Object(O.jsx)(i.U,{children:Object(O.jsx)(i.n,{items:k,components:{CSidebarNavDivider:i.V,CSidebarNavDropdown:i.W,CSidebarNavItem:i.X,CSidebarNavTitle:i.Y}})}),Object(O.jsx)(i.T,{className:"c-d-md-down-none"})]}):Object(O.jsxs)(i.S,{show:t,onShowChange:function(t){return e({type:"set",sidebarShow:t})},children:[Object(O.jsx)(i.U,{children:Object(O.jsx)(i.n,{items:U,components:{CSidebarNavDivider:i.V,CSidebarNavDropdown:i.W,CSidebarNavItem:i.X,CSidebarNavTitle:i.Y}})}),Object(O.jsx)(i.T,{className:"c-d-md-down-none"})]})},A=r.a.memo(P);t.default=function(){var e=Object(c.g)();return console.log(e),e?Object(O.jsxs)("div",{className:"c-app c-default-layout",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:"c-wrapper",children:[Object(O.jsx)(w,{}),Object(O.jsx)("div",{className:"c-body",children:Object(O.jsx)(g,{})}),Object(O.jsx)(N,{})]})]}):Object(O.jsx)(o.a,{to:"/login"})}}}]);
//# sourceMappingURL=10.1c56f8e8.chunk.js.map