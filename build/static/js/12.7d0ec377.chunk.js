(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12],{635:function(e,t,n){"use strict";var a=n(157),r=n(158),c=n(630).c.collection("/orders"),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return c}},{key:"create",value:function(e){return c.add(e)}},{key:"update",value:function(e,t){return c.doc(e).update(t)}},{key:"delete",value:function(e){return c.doc(e).delete()}}]),e}();t.a=new o},689:function(e,t,n){"use strict";n.r(t);var a=n(157),r=n(158),c=n(161),o=n(163),s=n(162),i=n(1),u=n(635),d=n(627),l=(n(628),n(20)),h=n(629),j=n(17),b=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onDataChange=r.onDataChange.bind(Object(c.a)(r)),r.state={orders:[]},r.unsubscribe=void 0,r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribe=u.a.getAll().orderBy("date","desc").onSnapshot(this.onDataChange)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"onDataChange",value:function(e){var t=[];e.forEach((function(e){var n=e.id,a=e.data();t.push({id:n,uid:a.uid,username:a.username,date:a.date,status:a.status,total:a.total,order:a.order})})),this.setState({orders:t})}},{key:"render",value:function(){return Object(h.g)()?Object(j.jsxs)(d.g,{children:[Object(j.jsx)(d.k,{children:"All Orders"}),Object(j.jsx)(d.h,{children:Object(j.jsx)(d.o,{items:this.state.orders,fields:[{key:"username",_classes:"font-weight-bold"},"date","status","total","order","action"],hover:!0,striped:!0,clickableRows:!0,scopedSlots:{total:function(e){return Object(j.jsxs)("td",{children:["$",e.total]})},action:function(e){return Object(j.jsx)("td",{children:"pending"===e.status&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.d,{color:"primary",style:{width:120},onClick:function(t){u.a.update(e.id,{uid:e.uid,username:e.username,date:e.date,status:"accept",total:e.total,order:e.order})},children:Object(j.jsx)("small",{children:"Accept"})}),Object(j.jsx)(d.d,{color:"danger",style:{width:120},onClick:function(t){u.a.update(e.id,{uid:e.uid,username:e.username,date:e.date,status:"cancel",total:e.total,order:e.order})},children:Object(j.jsx)("small",{children:"Cancel"})})]})})}}})})]}):Object(j.jsx)(l.a,{to:"/login"})}}]),n}(i.Component);t.default=b}}]);
//# sourceMappingURL=12.7d0ec377.chunk.js.map