(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{635:function(e,t,n){"use strict";var c=n(157),a=n(158),r=n(630).c.collection("/orders"),s=function(){function e(){Object(c.a)(this,e)}return Object(a.a)(e,[{key:"getAll",value:function(){return r}},{key:"create",value:function(e){return r.add(e)}},{key:"update",value:function(e,t){return r.doc(e).update(t)}},{key:"delete",value:function(e){return r.doc(e).delete()}}]),e}();t.a=new s},691:function(e,t,n){"use strict";n.r(t);var c=n(157),a=n(158),r=n(161),s=n(163),i=n(162),o=n(1),u=n(635),d=n(627),l=(n(628),n(20)),h=n(629),j=n(17),b=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onDataChange=a.onDataChange.bind(Object(r.a)(a)),a.state={orders:[],user:Object(h.g)()},a.unsubscribe=void 0,a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribe=u.a.getAll().orderBy("date","desc").onSnapshot(this.onDataChange)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"onDataChange",value:function(e){var t=this,n=[];e.forEach((function(e){var c=e.id,a=e.data();a.uid===t.state.user.uid&&n.push({id:c,uid:a.uid,username:a.username,date:a.date,status:a.status,total:a.total,order:a.order})})),this.setState({orders:n})}},{key:"render",value:function(){return Object(h.g)()?Object(j.jsxs)(d.g,{children:[Object(j.jsx)(d.k,{children:"My Orders"}),Object(j.jsx)(d.h,{children:Object(j.jsx)(d.o,{items:this.state.orders,fields:[{key:"date",_classes:"font-weight-bold"},"status","total","order","action"],hover:!0,striped:!0,clickableRows:!0,scopedSlots:{total:function(e){return Object(j.jsxs)("td",{children:["$",e.total]})},action:function(e){return Object(j.jsxs)("td",{children:["cancel"===e.status&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.d,{color:"danger",style:{width:120},onClick:function(t){u.a.delete(e.id)},children:Object(j.jsx)("small",{children:"Remove"})})}),"pending"===e.status&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.d,{color:"danger",style:{width:120},onClick:function(t){u.a.delete(e.id)},children:Object(j.jsx)("small",{children:"Cancel"})})})]})}}})})]}):Object(j.jsx)(l.a,{to:"/login"})}}]),n}(o.Component);t.default=b}}]);
//# sourceMappingURL=13.5a15234d.chunk.js.map